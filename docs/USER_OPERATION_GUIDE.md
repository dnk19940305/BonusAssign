# 奖金管理系统操作指南

## 目录

1. [系统概述](#系统概述)
2. [角色说明](#角色说明)
3. [登录指南](#登录指南)
4. [完整业务流程](#完整业务流程)
5. [各角色操作详解](#各角色操作详解)
6. [常见问题](#常见问题)

---

## 系统概述

本系统是一个基于"利润贡献 + 岗位价值 + 绩效"三维模型的奖金分配管理系统，支持：
- 项目奖金池创建与分配
- 三维模型奖金计算
- 个人奖金查询与分析
- 多维度数据统计

**系统访问地址：**
- 前端：http://localhost:8080
- 后端API：http://localhost:3000
- API文档：http://localhost:3000/api/docs

---

## 角色说明

### 1. 系统管理员 (admin)
**权限：** 所有权限
**职责：**
- 系统配置管理
- 用户账号管理
- 基础数据维护（部门、岗位、业务线等）
- 全局数据查看与统计

### 2. 项目经理 (Project Manager)
**权限：** 项目管理、团队管理
**职责：**
- 创建和管理项目
- 审批项目成员申请
- 创建项目奖金池
- 执行项目奖金计算

### 3. 普通员工 (Employee)
**权限：** 个人数据查看、项目申请
**职责：**
- 申请加入项目
- 查看个人奖金信息
- 查看项目参与情况
- 查看奖金趋势分析

### 4. 财务人员 (Finance)
**权限：** 财务数据查看、奖金审批
**职责：**
- 审核奖金池
- 查看财务报表
- 奖金发放确认

---

## 登录指南

### 测试账号

系统提供以下测试账号：

| 角色 | 用户名 | 密码 | 说明 |
|------|--------|------|------|
| 系统管理员 | admin | admin123 | 拥有所有权限 |
| 项目经理 | pm001 | pm123456 | 可管理项目和团队 |
| 普通员工 | emp001 | emp123456 | 可申请项目和查看个人数据 |

### 登录步骤

1. 打开浏览器访问：http://localhost:8080
2. 在登录页面输入用户名和密码
3. 点击"登录"按钮
4. 登录成功后会自动跳转到系统首页

---

## 完整业务流程

### 流程概览

```
1. 系统管理员：配置基础数据（部门、岗位、员工）
   ↓
2. 项目经理：创建项目
   ↓
3. 普通员工：申请加入项目
   ↓
4. 项目经理：审批成员申请
   ↓
5. 项目经理：创建项目奖金池
   ↓
6. 项目经理：执行奖金计算
   ↓
7. 财务人员：审批奖金分配
   ↓
8. 员工：查看个人奖金
```

---

## 各角色操作详解

## 一、系统管理员操作流程

### 1. 登录系统

```
用户名：admin
密码：admin123
```

### 2. 配置业务线

**路径：** 基础数据管理 → 业务线管理

**操作步骤：**

1. 点击左侧菜单"基础数据管理" → "业务线管理"
2. 点击"新增业务线"按钮
3. 填写业务线信息：
   - 业务线名称：例如"产品研发线"
   - 业务线代码：例如"PRODUCT"
   - 描述：业务线简介
   - 负责人：选择业务线负责人
   - 利润目标：年度利润目标金额
4. 点击"确定"保存

**示例数据：**
```
业务线名称：产品研发线
业务线代码：PRODUCT
描述：产品开发与优化
负责人：张三
利润目标：10000000
```

### 3. 配置部门

**路径：** 基础数据管理 → 部门管理

**操作步骤：**

1. 点击"部门管理"菜单
2. 点击"新增部门"按钮
3. 填写部门信息：
   - 部门名称：例如"研发一部"
   - 部门代码：例如"RD001"
   - 上级部门：选择上级部门（可选）
   - 所属业务线：选择业务线
   - 部门负责人：选择部门经理
   - 描述：部门简介
4. 点击"确定"保存

**示例数据：**
```
部门名称：研发一部
部门代码：RD001
上级部门：研发中心
所属业务线：产品研发线
部门负责人：李四
描述：负责核心产品开发
```

### 4. 配置岗位

**路径：** 基础数据管理 → 岗位管理

**操作步骤：**

1. 点击"岗位管理"菜单
2. 点击"新增岗位"按钮
3. 填写岗位信息：
   - 岗位名称：例如"高级开发工程师"
   - 岗位代码：例如"SENIOR_DEV"
   - 所属业务线：选择业务线
   - 岗位级别：1-10（级别越高，权重越大）
   - 基准薪资：该岗位的基准年薪
   - 岗位系数：用于奖金计算的权重系数
   - 描述：岗位职责说明
4. 点击"确定"保存

**示例数据：**
```
岗位名称：高级开发工程师
岗位代码：SENIOR_DEV
所属业务线：产品研发线
岗位级别：7
基准薪资：300000
岗位系数：1.2
描述：负责核心模块开发和技术攻关
```

### 5. 添加员工

**路径：** 员工管理 → 员工列表

**操作步骤：**

1. 点击"员工管理"菜单
2. 点击"新增员工"按钮
3. 填写员工信息：
   - 姓名：员工真实姓名
   - 工号：唯一员工编号
   - 所属部门：选择部门
   - 岗位：选择岗位
   - 邮箱：员工邮箱
   - 手机号：联系电话
   - 入职日期：员工入职日期
   - 年薪：员工年薪
   - 关联用户：选择系统用户账号（如有）
4. 点击"确定"保存

**示例数据：**
```
姓名：王五
工号：EMP001
所属部门：研发一部
岗位：高级开发工程师
邮箱：wangwu@company.com
手机号：13800138001
入职日期：2024-01-01
年薪：300000
```

### 6. 创建用户账号

**路径：** 系统管理 → 用户管理

**操作步骤：**

1. 点击"系统管理" → "用户管理"
2. 点击"新增用户"按钮
3. 填写用户信息：
   - 用户名：登录账号
   - 真实姓名：用户真实姓名
   - 密码：登录密码（至少8位）
   - 邮箱：用户邮箱
   - 手机号：联系电话
   - 角色：选择用户角色
   - 所属部门：选择部门
4. 点击"确定"保存

**示例数据：**
```
用户名：wangwu
真实姓名：王五
密码：ww123456
邮箱：wangwu@company.com
手机号：13800138001
角色：普通员工
所属部门：研发一部
```

**重要提示：**
- 用户账号和员工记录需要通过"工号"或"邮箱"关联
- 建议用户名使用员工工号，便于系统自动关联
- 或者确保用户邮箱与员工邮箱一致

---

## 二、项目经理操作流程

### 1. 登录系统

```
用户名：pm001（或管理员分配的账号）
密码：pm123456（或管理员设置的密码）
```

### 2. 创建项目

**路径：** 项目管理 → 项目列表

**操作步骤：**

1. 点击左侧菜单"项目管理" → "项目列表"
2. 点击"新建项目"按钮
3. 填写项目基本信息：
   - 项目名称：例如"电商平台V2.0"
   - 项目代码：例如"ECOM-V2"
   - 所属业务线：选择业务线
   - 项目经理：系统自动填充当前用户
   - 项目描述：项目简介和目标
   - 开始日期：项目计划开始日期
   - 结束日期：项目计划完成日期
   - 预算：项目总预算
   - 利润目标：项目预期利润
   - 项目状态：规划中/进行中/已完成
4. 点击"确定"创建项目

**示例数据：**
```
项目名称：电商平台V2.0
项目代码：ECOM-V2
所属业务线：产品研发线
项目经理：李四
项目描述：全新电商平台开发，支持多商户、多渠道销售
开始日期：2024-01-01
结束日期：2024-06-30
预算：2000000
利润目标：800000
项目状态：进行中
```

### 3. 配置项目角色权重（可选）

**说明：** 为项目设置专属的角色权重，如不设置则使用系统默认权重

**操作步骤：**

1. 在项目列表中，找到刚创建的项目
2. 点击"操作" → "配置角色权重"
3. 为不同角色设置权重系数：
   - 项目经理：3.5
   - 技术负责人：3.0
   - 高级开发：2.5
   - 开发工程师：2.0
   - 测试工程师：1.8
4. 点击"保存"

**默认角色权重说明：**
```
project_manager（项目经理）：3.5
tech_lead（技术负责人）：3.0
senior_dev（高级开发）：2.5
developer（开发工程师）：2.0
tester（测试工程师）：1.8
```

### 4. 审批成员申请

**路径：** 项目管理 → 团队申请审批

**操作步骤：**

1. 点击"项目管理" → "团队申请审批"
2. 查看待审批的成员申请列表
3. 对于每个申请，可以看到：
   - 申请人姓名和工号
   - 申请的项目
   - 期望角色
   - 申请理由
   - 申请时间
4. 审批操作：
   - 点击"通过"：批准该成员加入项目
   - 点击"拒绝"：拒绝该成员的申请
5. 通过后可以设置：
   - 实际分配角色：可以调整为其他角色
   - 参与度：0-1之间的小数，表示该成员在项目中的投入比例
     - 1.0 = 全职参与
     - 0.5 = 50%时间参与
     - 0.2 = 20%时间参与

**示例审批：**
```
申请人：王五（EMP001）
申请项目：电商平台V2.0
期望角色：高级开发工程师
申请理由：有5年电商平台开发经验，熟悉微服务架构

审批决定：通过
分配角色：senior_dev（高级开发）
参与度：1.0（全职参与）
```

### 5. 创建项目奖金池

**前提条件：**
- 项目已创建
- 项目已有至少一个审批通过的成员
- 项目处于"进行中"或"已完成"状态

**路径：** 项目管理 → 项目奖金管理

**操作步骤：**

1. 点击"项目管理" → "项目奖金管理"
2. 点击"创建奖金池"按钮
3. 填写奖金池信息：
   - 选择项目：从项目列表中选择
   - 奖金期间：格式为 YYYYQN（例如：2024Q1）
   - 奖金总额：本期项目奖金总金额
   - 利润比例：奖金占项目利润的比例（%）
   - 说明：奖金池说明
4. 点击"创建"

**示例数据：**
```
选择项目：电商平台V2.0
奖金期间：2024Q1
奖金总额：200000
利润比例：25%
说明：第一季度项目奖金，根据项目里程碑完成情况分配
```

**奖金池状态说明：**
- `pending`：待审批 - 刚创建，等待财务审批
- `approved`：已审批 - 财务已审批，可以进行分配
- `calculated`：已计算 - 已执行奖金计算
- `distributed`：已发放 - 奖金已发放给员工

### 6. 执行奖金计算

**前提条件：**
- 奖金池状态为 `pending` 或 `approved`
- 项目有审批通过的成员
- 成员已设置角色和参与度

**路径：** 项目管理 → 项目奖金管理

**操作步骤：**

1. 在奖金池列表中找到要计算的奖金池
2. 点击"操作" → "计算奖金"
3. 系统会自动执行计算，计算公式为：
   ```
   成员奖金 = 奖金池总额 × (成员权重 / 总权重)

   其中：
   成员权重 = 角色权重 × 绩效系数 × 参与度
   总权重 = 所有成员权重之和
   ```
4. 计算完成后会显示分配结果：
   - 每个成员的奖金金额
   - 权重占比
   - 计算明细
5. 确认无误后，点击"确认分配"

**计算示例：**

假设电商平台V2.0项目奖金池为20万元，有以下成员：

| 成员 | 角色 | 角色权重 | 绩效系数 | 参与度 | 成员权重 | 奖金金额 |
|------|------|----------|----------|--------|----------|----------|
| 张三 | 项目经理 | 3.5 | 1.2 | 1.0 | 4.2 | ¥70,000 |
| 李四 | 技术负责人 | 3.0 | 1.1 | 1.0 | 3.3 | ¥55,000 |
| 王五 | 高级开发 | 2.5 | 1.0 | 1.0 | 2.5 | ¥41,667 |
| 赵六 | 开发工程师 | 2.0 | 1.0 | 1.0 | 2.0 | ¥33,333 |

总权重 = 4.2 + 3.3 + 2.5 + 2.0 = 12.0

**绩效系数说明：**
- 系统会自动从绩效考核记录中读取员工的绩效系数
- 如果没有绩效记录，默认使用 1.0
- 绩效系数通常在 0.8-1.2 之间

### 7. 查看奖金分配详情

**路径：** 项目管理 → 项目奖金管理

**操作步骤：**

1. 在奖金池列表中找到已计算的奖金池
2. 点击"查看详情"
3. 可以查看：
   - 奖金池基本信息
   - 项目信息
   - 成员奖金分配列表
   - 计算公式和过程
   - 统计图表
4. 可以导出Excel报表

---

## 三、普通员工操作流程

### 1. 登录系统

```
用户名：emp001（或管理员分配的账号）
密码：emp123456（或管理员设置的密码）
```

### 2. 申请加入项目

**路径：** 我的项目 → 申请加入项目

**操作步骤：**

1. 点击左侧菜单"我的项目"
2. 点击"申请加入项目"按钮
3. 在弹出的对话框中：
   - 选择项目：从可申请的项目列表中选择
   - 期望角色：选择期望担任的角色
   - 申请理由：说明为什么适合加入该项目（至少10个字符）
4. 点击"提交申请"
5. 等待项目经理审批

**示例申请：**
```
选择项目：电商平台V2.0
期望角色：高级开发工程师
申请理由：本人有5年电商平台开发经验，熟悉分布式架构和微服务开发，
曾主导过大型电商项目的核心模块开发，能够快速上手并独立承担重要模块的开发工作。
```

**申请状态说明：**
- `pending`：待审批 - 已提交，等待项目经理审批
- `approved`：已通过 - 项目经理已批准，正式加入项目
- `rejected`：已拒绝 - 申请被拒绝

### 3. 查看我的项目

**路径：** 我的项目

**操作步骤：**

1. 点击"我的项目"菜单
2. 查看项目列表，包括：
   - 参与的所有项目
   - 项目状态（待审批/已通过/进行中/已完成）
   - 我的角色
   - 参与度
   - 项目奖金（如已分配）
3. 点击"查看详情"可以查看项目具体信息

### 4. 查看个人奖金概览

**路径：** 个人中心 → 我的奖金

**操作步骤：**

1. 点击左侧菜单"个人中心" → "我的奖金"
2. 查看奖金概览卡片：
   - 本期总奖金
   - 常规奖金（三维模型计算）
   - 项目奖金
   - 奖金构成（利润贡献+岗位价值+绩效）
3. 查看奖金明细：
   - 奖金期间
   - 奖金来源（项目/常规）
   - 金额
   - 状态（已计算/已审批/已发放）

**奖金构成说明：**

个人奖金由两部分组成：

**1. 常规奖金（三维模型）：**
```
常规奖金 = 利润贡献奖金 + 岗位价值奖金 + 绩效奖金

- 利润贡献奖金：基于公司/业务线利润分配
- 岗位价值奖金：基于岗位级别和系数
- 绩效奖金：基于个人绩效考核结果
```

**2. 项目奖金：**
```
项目奖金 = Σ(各项目分配的奖金)

每个项目的奖金 = 项目奖金池 × (个人权重 / 团队总权重)
个人权重 = 角色权重 × 绩效系数 × 参与度
```

### 5. 查看奖金趋势分析

**路径：** 个人中心 → 我的奖金 → 奖金趋势

**操作步骤：**

1. 在"我的奖金"页面
2. 点击"奖金趋势"标签页
3. 查看趋势分析：
   - 奖金变化曲线图（最近12期）
   - 最高奖金期间
   - 最低奖金期间
   - 平均奖金
   - 增长趋势分析
4. 可以选择查看期间数（6期/12期/24期）

### 6. 查看奖金明细

**路径：** 个人中心 → 我的奖金 → 奖金明细

**操作步骤：**

1. 在"我的奖金"页面
2. 点击"奖金明细"标签页
3. 查看详细的奖金记录：
   - 期间
   - 奖金类型（常规/项目）
   - 项目名称（如果是项目奖金）
   - 金额
   - 状态
   - 计算日期
4. 可以按条件筛选：
   - 日期范围
   - 奖金类型
   - 状态
5. 可以导出明细Excel

### 7. 查看项目奖金详情

**路径：** 我的项目 → 奖金详情

**操作步骤：**

1. 在"我的项目"列表中
2. 找到已分配奖金的项目
3. 点击"奖金详情"按钮
4. 查看详细信息：
   - 项目奖金池总额
   - 我的奖金金额
   - 角色权重
   - 绩效系数
   - 参与度
   - 计算公式和过程
   - 在团队中的排名（匿名）

**奖金计算公式展示：**
```
项目奖金 = 项目奖金池 × 角色权重 × 绩效系数 × 参与度 / 团队总权重

示例：
项目奖金池: ¥200,000
角色权重: 2.5 (高级开发)
绩效系数: 1.1
参与度: 100%
团队总权重: 12.0

我的项目奖金 = 200,000 × 2.5 × 1.1 × 1.0 / 12.0 = ¥45,833
```

### 8. 查看绩效信息

**路径：** 个人中心 → 我的绩效

**操作步骤：**

1. 点击"个人中心" → "我的绩效"
2. 查看绩效评估信息：
   - 当前期间绩效评分
   - 绩效系数（用于奖金计算）
   - 三维评分（利润贡献/岗位价值/绩效）
   - 历史绩效趋势
   - 绩效指标明细

### 9. 查看改进建议

**路径：** 个人中心 → 我的奖金 → 改进建议

**操作步骤：**

1. 在"我的奖金"页面
2. 点击"改进建议"标签页
3. 查看系统智能生成的建议：
   - 基于绩效的改进建议
   - 基于项目参与的建议
   - 基于职业发展的建议
   - 预期收益分析
4. 每条建议包括：
   - 建议标题
   - 详细描述
   - 具体行动步骤
   - 优先级
   - 预期奖金提升

---

## 四、财务人员操作流程

### 1. 登录系统

```
用户名：finance001（或管理员分配的账号）
密码：finance123（或管理员设置的密码）
```

### 2. 审批奖金池

**路径：** 财务管理 → 奖金池审批

**操作步骤：**

1. 点击"财务管理" → "奖金池审批"
2. 查看待审批的奖金池列表
3. 对每个奖金池进行审核：
   - 查看奖金池基本信息
   - 查看项目信息和利润情况
   - 查看奖金总额是否合理
   - 查看利润比例是否符合规定
4. 审批操作：
   - 点击"通过"：批准该奖金池
   - 点击"拒绝"：拒绝该奖金池，需填写拒绝原因
   - 点击"退回修改"：要求项目经理修改后重新提交

**审批要点：**
- 检查奖金总额是否与项目利润匹配
- 检查利润比例是否在合理范围（通常15%-30%）
- 检查项目状态是否允许发放奖金
- 检查是否有相关审批流程和文件

### 3. 查看财务报表

**路径：** 财务管理 → 财务报表

**操作步骤：**

1. 点击"财务管理" → "财务报表"
2. 选择报表类型：
   - 奖金汇总报表
   - 部门奖金报表
   - 项目奖金报表
   - 个人奖金报表
3. 设置筛选条件：
   - 时间范围
   - 部门
   - 项目
   - 状态
4. 点击"查询"生成报表
5. 可以导出Excel或PDF格式

### 4. 确认奖金发放

**路径：** 财务管理 → 奖金发放

**操作步骤：**

1. 点击"财务管理" → "奖金发放"
2. 查看已审批的奖金分配记录
3. 在财务系统中完成实际发放后
4. 在本系统中标记为"已发放"
5. 填写发放日期和发放批次号
6. 系统会自动通知相关员工

---

## 完整操作示例

### 场景：电商平台V2.0项目的完整奖金分配流程

#### 第一步：系统管理员准备基础数据（2024-01-01）

**操作人：** 系统管理员 admin

1. **创建业务线：**
   ```
   名称：产品研发线
   代码：PRODUCT
   负责人：张总监
   利润目标：10,000,000元
   ```

2. **创建部门：**
   ```
   名称：研发一部
   代码：RD001
   业务线：产品研发线
   负责人：李经理
   ```

3. **创建岗位：**
   ```
   岗位1：项目经理（权重3.5）
   岗位2：高级开发（权重2.5）
   岗位3：开发工程师（权重2.0）
   岗位4：测试工程师（权重1.8）
   ```

4. **添加员工：**
   ```
   张三 - 项目经理 - 年薪40万
   李四 - 高级开发 - 年薪30万
   王五 - 开发工程师 - 年薪25万
   赵六 - 测试工程师 - 年薪20万
   ```

5. **创建用户账号：**
   ```
   pm001 (张三) - 项目经理角色
   dev001 (李四) - 普通员工角色
   dev002 (王五) - 普通员工角色
   test001 (赵六) - 普通员工角色
   ```

#### 第二步：项目经理创建项目（2024-01-05）

**操作人：** 项目经理 pm001（张三）

1. **创建项目：**
   ```
   项目名称：电商平台V2.0
   项目代码：ECOM-V2
   业务线：产品研发线
   项目经理：张三
   开始日期：2024-01-10
   结束日期：2024-06-30
   预算：2,000,000元
   利润目标：800,000元
   状态：进行中
   ```

#### 第三步：员工申请加入项目（2024-01-06）

**操作人1：** 普通员工 dev001（李四）
```
申请项目：电商平台V2.0
期望角色：高级开发工程师
申请理由：有丰富的电商平台开发经验，熟悉微服务架构
```

**操作人2：** 普通员工 dev002（王五）
```
申请项目：电商平台V2.0
期望角色：开发工程师
申请理由：熟悉前端和后端开发，希望参与完整的项目实践
```

**操作人3：** 普通员工 test001（赵六）
```
申请项目：电商平台V2.0
期望角色：测试工程师
申请理由：有自动化测试经验，可以建立完整的测试体系
```

#### 第四步：项目经理审批成员（2024-01-08）

**操作人：** 项目经理 pm001（张三）

1. **审批李四的申请：**
   ```
   审批结果：通过
   分配角色：高级开发工程师 (senior_dev)
   参与度：1.0（全职）
   ```

2. **审批王五的申请：**
   ```
   审批结果：通过
   分配角色：开发工程师 (developer)
   参与度：1.0（全职）
   ```

3. **审批赵六的申请：**
   ```
   审批结果：通过
   分配角色：测试工程师 (tester)
   参与度：0.8（80%投入，还参与其他项目）
   ```

#### 第五步：项目进行中（2024-01-10 至 2024-03-31）

- 团队成员按照分工完成项目开发
- 定期进行进度跟踪和质量评审
- 第一季度项目里程碑完成

#### 第六步：创建项目奖金池（2024-04-01）

**操作人：** 项目经理 pm001（张三）

**创建奖金池：**
```
选择项目：电商平台V2.0
奖金期间：2024Q1
奖金总额：200,000元
利润比例：25%（项目Q1产生利润80万，奖金占25%）
说明：第一季度项目奖金，根据里程碑完成情况分配
```

#### 第七步：财务审批奖金池（2024-04-02）

**操作人：** 财务人员 finance001

1. **审核信息：**
   - 项目利润：800,000元 ✓
   - 奖金总额：200,000元 ✓
   - 利润比例：25% ✓ (在合理范围15%-30%)
   - 项目状态：进行中 ✓
   - 审批文件：已提交 ✓

2. **审批结果：**
   ```
   审批意见：通过
   备注：符合公司奖金政策，项目进展良好，同意发放
   ```

#### 第八步：执行奖金计算（2024-04-03）

**操作人：** 项目经理 pm001（张三）

1. **点击"计算奖金"按钮**

2. **系统自动计算：**

   **成员权重计算：**
   ```
   张三（项目经理）：
   - 角色权重：3.5
   - 绩效系数：1.2（优秀）
   - 参与度：1.0
   - 成员权重 = 3.5 × 1.2 × 1.0 = 4.2

   李四（高级开发）：
   - 角色权重：2.5
   - 绩效系数：1.1（良好）
   - 参与度：1.0
   - 成员权重 = 2.5 × 1.1 × 1.0 = 2.75

   王五（开发工程师）：
   - 角色权重：2.0
   - 绩效系数：1.0（合格）
   - 参与度：1.0
   - 成员权重 = 2.0 × 1.0 × 1.0 = 2.0

   赵六（测试工程师）：
   - 角色权重：1.8
   - 绩效系数：1.0（合格）
   - 参与度：0.8
   - 成员权重 = 1.8 × 1.0 × 0.8 = 1.44

   团队总权重 = 4.2 + 2.75 + 2.0 + 1.44 = 10.39
   ```

   **奖金分配计算：**
   ```
   张三奖金 = 200,000 × (4.2 / 10.39) = ¥80,847
   李四奖金 = 200,000 × (2.75 / 10.39) = ¥52,936
   王五奖金 = 200,000 × (2.0 / 10.39) = ¥38,499
   赵六奖金 = 200,000 × (1.44 / 10.39) = ¥27,718

   总计 = ¥200,000
   ```

3. **确认分配结果**

#### 第九步：财务确认发放（2024-04-10）

**操作人：** 财务人员 finance001

1. **在财务系统中完成工资发放**

2. **在奖金系统中标记为已发放：**
   ```
   发放日期：2024-04-10
   发放批次：2024Q1-BATCH01
   发放方式：工资单
   ```

3. **系统自动发送通知给所有成员**

#### 第十步：员工查看奖金（2024-04-10）

**操作人1：** 普通员工 dev001（李四）

1. **登录系统**
2. **点击"个人中心" → "我的奖金"**
3. **查看奖金信息：**
   ```
   本期总奖金：¥52,936
   - 项目奖金：¥52,936 (电商平台V2.0)
   - 常规奖金：¥0 (本期无)

   项目奖金详情：
   - 项目：电商平台V2.0
   - 期间：2024Q1
   - 角色：高级开发工程师
   - 角色权重：2.5
   - 绩效系数：1.1
   - 参与度：100%
   - 奖金金额：¥52,936
   - 状态：已发放
   - 发放日期：2024-04-10
   ```

4. **查看奖金详情和计算过程**
5. **查看在团队中的表现（排名第2，权重占比26.5%）**

---

## 常见问题

### 1. 用户登录相关

**Q1：忘记密码怎么办？**
A：请联系系统管理员重置密码。

**Q2：登录后看不到某些菜单？**
A：不同角色看到的菜单不同，请确认您的角色权限是否正确。

**Q3：提示"账号未关联员工记录"？**
A：请联系HR或系统管理员，确保您的用户账号已关联到员工记录。关联方式：
- 确保用户名与员工工号一致，或
- 确保用户邮箱与员工邮箱一致

### 2. 项目管理相关

**Q4：创建项目后无法编辑？**
A：检查项目状态，某些状态下不允许编辑某些字段。如需修改，请联系管理员。

**Q5：审批成员时无法设置角色？**
A：确保已经在系统中配置了项目角色。可以在"项目管理" → "角色配置"中查看。

**Q6：项目成员申请看不到我的项目？**
A：确保项目状态为"进行中"，且设置为允许申请加入。

### 3. 奖金计算相关

**Q7：计算奖金时提示"暂无符合条件的成员"？**
A：请检查：
- 项目是否有已审批通过的成员（状态为 approved）
- 成员是否设置了有效的角色
- 成员是否有员工ID

**Q8：成员的绩效系数从哪里来？**
A：系统会自动从绩效考核记录中读取。如果没有记录，默认使用 1.0。

**Q9：奖金分配总额与奖金池不一致？**
A：可能存在小数精度问题（通常差异小于1元），这是正常的四舍五入误差。

**Q10：如何修改已计算的奖金？**
A：已计算的奖金不能直接修改。如需调整：
- 如果未审批：删除奖金池，重新创建和计算
- 如果已审批：需要走奖金调整流程，或联系财务人员

### 4. 个人奖金查询相关

**Q11：看不到我的奖金信息？**
A：可能原因：
- 您的账号未关联员工记录
- 本期尚未进行奖金分配
- 奖金尚未审批或发放

**Q12：为什么我的项目奖金是0？**
A：可能原因：
- 项目尚未创建奖金池
- 奖金池尚未计算
- 您的审批状态不是"已通过"
- 您的参与度设置为0

**Q13：常规奖金和项目奖金有什么区别？**
A：
- 常规奖金：基于三维模型（利润贡献+岗位价值+绩效）的定期奖金
- 项目奖金：基于具体项目完成情况的额外奖金
- 个人总奖金 = 常规奖金 + 项目奖金

### 5. 系统使用相关

**Q14：如何导出数据？**
A：大部分列表页面都有"导出"按钮，支持导出为Excel格式。

**Q15：数据更新不及时？**
A：尝试刷新页面（F5）或点击页面上的"刷新"按钮。

**Q16：如何查看操作历史？**
A：在相关记录的详情页面，通常有"操作日志"或"审批记录"选项卡。

### 6. 权限相关

**Q17：提示"权限不足"？**
A：您的角色可能没有该操作的权限。请联系管理员确认您的角色设置。

**Q18：我是项目经理，为什么看不到某个项目？**
A：您只能看到自己创建或管理的项目。如需查看其他项目，需要相应权限。

### 7. 数据异常处理

**Q19：发现数据错误怎么办？**
A：
1. 立即停止相关操作
2. 截图保存错误信息
3. 联系系统管理员或技术支持
4. 不要尝试自行修改数据库

**Q20：系统报错如何处理？**
A：
1. 记录错误信息和操作步骤
2. 尝试刷新页面重试
3. 如果仍然失败，联系技术支持
4. 提供详细的错误日志和操作步骤

---

## 技术支持

### 联系方式

- **技术支持邮箱：** support@company.com
- **系统管理员：** admin@company.com
- **工作时间：** 周一至周五 9:00-18:00

### 常用链接

- **系统访问：** http://localhost:8080
- **API文档：** http://localhost:3000/api/docs
- **使用手册：** /docs/USER_OPERATION_GUIDE.md
- **FAQ：** /docs/FAQ.md

---

## 附录

### A. 系统角色权限矩阵

| 功能模块 | 系统管理员 | 项目经理 | 普通员工 | 财务人员 |
|---------|-----------|---------|---------|---------|
| 用户管理 | ✓ | - | - | - |
| 部门管理 | ✓ | - | - | - |
| 岗位管理 | ✓ | - | - | - |
| 员工管理 | ✓ | 查看 | - | 查看 |
| 项目创建 | ✓ | ✓ | - | - |
| 项目管理 | ✓ | ✓(自己的) | - | - |
| 成员审批 | ✓ | ✓(自己的) | - | - |
| 奖金池创建 | ✓ | ✓(自己的) | - | - |
| 奖金计算 | ✓ | ✓(自己的) | - | - |
| 奖金审批 | ✓ | - | - | ✓ |
| 奖金发放 | ✓ | - | - | ✓ |
| 项目申请 | - | - | ✓ | - |
| 个人奖金查看 | ✓ | ✓ | ✓ | ✓ |
| 财务报表 | ✓ | 查看 | - | ✓ |

### B. 项目角色权重参考

| 角色 | 角色代码 | 默认权重 | 说明 |
|------|---------|---------|------|
| 项目经理 | project_manager | 3.5 | 负责项目整体管理 |
| 技术负责人 | tech_lead | 3.0 | 负责技术方案和架构 |
| 团队负责人 | team_lead | 2.8 | 负责团队管理 |
| 高级开发 | senior_dev | 2.5 | 核心模块开发 |
| 开发工程师 | developer | 2.0 | 功能模块开发 |
| 初级开发 | junior_dev | 1.5 | 辅助开发工作 |
| 实习生 | intern_dev | 1.0 | 学习和简单任务 |
| 测试负责人 | test_lead | 2.5 | 负责测试体系建设 |
| 测试工程师 | tester | 1.8 | 测试执行 |
| 产品经理 | product_mgr | 2.5 | 产品规划和需求 |
| UX设计师 | ux_designer | 2.0 | 用户体验设计 |
| UI设计师 | ui_designer | 1.8 | 界面设计 |

### C. 绩效系数说明

| 绩效等级 | 系数范围 | 说明 |
|---------|---------|------|
| 优秀 (A) | 1.2 | 超出预期，表现卓越 |
| 良好 (B) | 1.1 | 达到预期，表现良好 |
| 合格 (C) | 1.0 | 基本达到预期 |
| 待改进 (D) | 0.9 | 未达到预期，需改进 |
| 不合格 (E) | 0.8 | 明显未达标 |

### D. 奖金池状态流转图

```
创建 (pending)
    ↓
财务审批 (approved)
    ↓
计算奖金 (calculated)
    ↓
财务发放 (distributed)
```

### E. 数据字典

**项目状态：**
- `planning`: 规划中
- `active`: 进行中
- `completed`: 已完成
- `suspended`: 已暂停
- `cancelled`: 已取消

**成员状态：**
- `pending`: 待审批
- `approved`: 已通过
- `rejected`: 已拒绝
- `active`: 活跃中
- `left`: 已离开

**奖金状态：**
- `pending`: 待审批
- `approved`: 已审批
- `calculated`: 已计算
- `distributed`: 已发放
- `cancelled`: 已取消

---

**文档版本：** v1.0
**最后更新：** 2024-10-20
**适用系统版本：** v1.0+

---

## 快速参考卡

### 系统管理员常用操作

```bash
1. 添加员工
   员工管理 → 新增员工 → 填写信息 → 保存

2. 创建用户
   系统管理 → 用户管理 → 新增用户 → 关联员工

3. 配置岗位
   基础数据 → 岗位管理 → 新增岗位 → 设置权重
```

### 项目经理常用操作

```bash
1. 创建项目
   项目管理 → 项目列表 → 新建项目

2. 审批成员
   项目管理 → 团队申请审批 → 通过/拒绝

3. 创建奖金池
   项目管理 → 项目奖金管理 → 创建奖金池

4. 计算奖金
   项目奖金管理 → 选择奖金池 → 计算奖金 → 确认分配
```

### 普通员工常用操作

```bash
1. 申请项目
   我的项目 → 申请加入项目 → 选择项目 → 提交

2. 查看奖金
   个人中心 → 我的奖金 → 查看概览和明细

3. 查看趋势
   我的奖金 → 奖金趋势 → 查看图表分析
```

### 财务人员常用操作

```bash
1. 审批奖金池
   财务管理 → 奖金池审批 → 审核 → 通过/拒绝

2. 确认发放
   财务管理 → 奖金发放 → 标记已发放

3. 导出报表
   财务管理 → 财务报表 → 筛选 → 导出Excel
```

---

**祝您使用愉快！**

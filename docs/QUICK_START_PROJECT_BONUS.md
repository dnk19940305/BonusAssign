# 快速开始指南 - 项目奖金分配演示

## 🎯 演示场景说明

本演示实现了完整的项目协作和奖金分配流程:
1. ✅ 项目经理创建项目
2. ✅ 普通员工申请加入项目
3. ✅ 项目经理审批通过
4. ✅ 系统自动计算并分配项目奖金

## 👥 测试账号

### 项目经理账号
```
用户名: pm_manager_1761010442362
密码: pm123456
姓名: 项目经理-张三
```

### 普通员工账号
```
用户名: employee_1761010442619
密码: emp123456
姓名: 普通员工-李四
```

### 系统管理员账号
```
用户名: admin
密码: admin123
```

## 🚀 快速访问

1. **启动服务** (如果还未启动)
   ```bash
   # 启动后端
   cd backend && npm run dev

   # 启动前端 (新终端)
   cd frontend && npm run dev
   ```

2. **访问系统**
   - 前端地址: http://localhost:8080
   - 后端API: http://localhost:3000
   - API文档: http://localhost:3000/api/docs

## 📋 测试步骤

### 1. 查看项目信息 (项目经理视角)
1. 使用项目经理账号登录
2. 进入"我的项目"页面
3. 查看项目: **客户管理系统开发项目** (PROJ_1761010442873)
4. 查看项目成员列表 (应显示2名成员)

### 2. 查看个人奖金 (员工视角)
1. 使用普通员工账号登录
2. 进入"个人奖金"页面
3. 查看2025Q2的奖金分配: **¥40,000**
4. 查看奖金明细和计算说明

### 3. 查看项目奖金 (项目经理视角)
1. 使用项目经理账号登录
2. 进入"项目奖金"页面
3. 查看客户管理系统开发项目的奖金分配
4. 查看各成员的奖金明细

### 4. 管理奖金池 (管理员视角)
1. 使用admin账号登录
2. 进入"奖金管理"页面
3. 查看2025Q2奖金池: **¥100,000**
4. 查看分配明细和统计报表

## 💰 奖金分配结果

| 姓名 | 角色 | 贡献权重 | 绩效系数 | 奖金金额 |
|------|------|----------|----------|----------|
| 普通员工-李四 | developer | 1.0 | 1.0 | ¥40,000 |
| 项目经理-张三 | manager | 1.5 | 1.2 | ¥72,000 |
| **合计** | - | - | - | **¥112,000** |

**注意**: 由于项目经理的绩效系数为1.2,实际分配超出奖金池¥12,000。在生产环境中需要添加归一化处理。

## 📊 项目信息

- **项目名称**: 客户管理系统开发项目
- **项目代码**: PROJ_1761010442873
- **状态**: 进行中
- **预算**: ¥500,000
- **开始日期**: 2025-01-01
- **结束日期**: 2025-06-30
- **项目经理**: 项目经理-张三
- **团队成员**: 2人

## 🗄️ 数据库信息

所有数据已保存到MySQL数据库:
- 数据库: `bonus_system`
- 主机: `localhost:3306`
- 用户: `root`

相关数据表:
- `users` - 用户账号 (3条新增)
- `employees` - 员工信息 (2条新增)
- `projects` - 项目 (1条新增)
- `project_members` - 项目成员 (2条新增)
- `project_bonus_pools` - 奖金池 (1条新增)
- `project_bonus_allocations` - 奖金分配 (2条新增)

## 📁 相关文件

1. **setup-workflow-result.json** - 用户和项目创建结果
   - 位置: `backend/scripts/setup-workflow-result.json`
   - 包含: 用户ID、员工ID、项目ID等关键信息

2. **bonus-allocation-result.json** - 奖金分配结果
   - 位置: `backend/scripts/bonus-allocation-result.json`
   - 包含: 详细的奖金分配明细

3. **PROJECT_BONUS_ALLOCATION_REPORT.md** - 完整实施报告
   - 位置: `docs/PROJECT_BONUS_ALLOCATION_REPORT.md`
   - 包含: 完整的流程说明、技术实现和问题解决方案

## 🔧 执行脚本

如需重新生成数据,可以运行以下脚本:

```bash
# 创建用户、项目和成员
cd backend/scripts
node setup-project-workflow.js

# 计算项目奖金分配
node calculate-project-bonus.js
```

## ⚠️ 注意事项

1. **密码安全**: 测试账号密码较简单,仅供演示使用
2. **奖金分配**: 当前分配算法较简单,实际使用需要优化
3. **数据清理**: 如需重新演示,建议先清理相关测试数据
4. **前端刷新**: 登录后如未显示数据,请刷新页面

## 🎓 学习资源

- **系统文档**: `docs/USER_OPERATION_GUIDE.md`
- **API文档**: http://localhost:3000/api/docs (Swagger)
- **数据库设计**: `database/init.sql`

## 🐛 遇到问题?

1. 检查数据库连接是否正常
2. 确认后端服务运行在3000端口
3. 确认前端服务运行在8080端口
4. 查看后端日志了解错误详情
5. 检查浏览器控制台是否有错误

## 📞 支持

如有问题,请查看:
- 后端日志: `backend/logs/`
- 错误日志: `backend/logs/error.log`
- 访问日志: `backend/logs/access.log`

---

**创建时间**: 2025-10-20
**最后更新**: 2025-10-20
**版本**: v1.0
